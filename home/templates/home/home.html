{% extends "dashboard.html" %}
{% load static %}

{% block titulo %}Reserva de Salas - Dashboard{% endblock %}

{% block main_content %}
<h3 class="text-3xl font-bold font-lora text-gray-800">Dashboard</h3>
<p class="mt-1 text-gray-600">Salas atualmente reservadas</p>

<div class="my-6 bg-white shadow-sm rounded-lg p-4">
    <h6 class="text-lg font-semibold text-blue-600 mb-4">Filtros</h6>
    
    <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 items-end">
        
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Bloco</label>
            <select class="block w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                {% for bloco in blocos %}
                    <option>{{ bloco }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Curso</label>
            <select class="block w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                {% for curso in cursos %}
                    <option>{{ curso }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Turma</label>
            <select class="block w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                {% for turma in turmas %}
                    <option>{{ turma }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Dia da Semana</label>
            <select class="block w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                {% for dia in diassemanas %}
                    <option>{{ dia }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Turno</label>
            <select class="block w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                <option value="Manhã">Manhã</option>
                <option value="Tarde">Tarde</option>
                <option value="Noite">Noite</option>
            </select>
        </div>
        
        <div>
            <button class="w-full text-sm bg-white text-gray-700 border border-gray-300 rounded-full px-4 py-2 hover:bg-gray-50">
                Limpar Filtros
            </button>
        </div>
    </div>
</div>

<div class="bg-white shadow-sm rounded-lg p-4 mb-6">
    <h6 class="text-lg font-semibold text-gray-800 mb-4">Salas Reservadas</h6>
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200 text-center">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider">Bloco</th>
                    <th class="px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider">Sala</th>
                    <th class="px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider">Turma</th>
                    <th class="px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider">Dia da Semana</th>
                    <th class="px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider">Turno</th>
                    <th class="px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider">Selecionar</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                
                {% for reserva in reservas %}
                <tr>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700">{{ reserva.sala.id_bloco }}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700">{{ reserva.sala.numero_sala }}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700">{{ reserva.turma.nome }}</td> <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700">{{ reserva.dia_semana }}</td> <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700">
                        <span class="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-800 text-white">
                            {{ reserva.turno }}
                        </span>
                    </td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700">
                        <button class="text-sm text-gray-600 border border-gray-300 rounded-full px-3 py-1 hover:bg-gray-100">
                            Selecionar
                        </button>
                    </td>
                </tr>
                {% endfor %}
                
            </tbody>
        </table>
    </div>
</div>

<div class="bg-white shadow-sm rounded-lg p-4">
    <h6 class="text-lg font-semibold text-gray-800 mb-4">Salas Disponíveis</h6>
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200 text-center">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider">Bloco</th>
                    <th class="px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider">Sala</th>
                    <th class="px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider">Selecionar</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                
                {% for sala in salas_disponiveis %} <tr>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700">{{ sala.id_bloco }}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700">{{ sala.numero_sala }}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700">
                        <button class="text-sm text-gray-600 border border-gray-300 rounded-full px-3 py-1 hover:bg-gray-100">
                            Selecionar
                        </button>
                    </td>
                </tr>
                {% endfor %}

            </tbody>
        </table>
    </div>
</div>

{% endblock main_content %}