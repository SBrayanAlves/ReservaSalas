{% extends 'base.html' %}
{% load static %}

{% block body_class %}bg-gray-200 flex items-center justify-center min-h-screen p-4{% endblock %}

{% block content %}
    <div id="messageBox" class="hidden fixed top-10 left-1/2 -translate-x-1/2 px-6 py-3 rounded-lg shadow-xl z-50 transition-all duration-300 text-white">
        <span id="messageText"></span>
    </div>
    
    {% if messages %}
        <div class="fixed top-10 left-1/2 -translate-x-1/2 z-50 space-y-2 w-full max-w-md px-4">
            {% for message in messages %}
                <div class="px-6 py-3 rounded-lg shadow-xl text-white text-center {% if message.tags == 'error' %}bg-red-600{% else %}bg-green-600{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <div class="w-full max-w-md bg-white p-8 md:p-12 rounded-2xl shadow-xl">
        {% block auth_icon %}
        <div class="flex justify-center mb-6">
            <div class="w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center">
                <svg class="w-8 h-8 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 4H16M8 4V20H16V4M8 4L16 4M12 14V16" />
                </svg>
            </div>
        </div>
        {% endblock %}

        {% block auth_content %}{% endblock %}
    </div>

    <script>
        // Função global para mostrar mensagens via JS
        function showMessage(message, isError = false) {
            const msgBox = document.getElementById('messageBox');
            const msgText = document.getElementById('messageText');
            if (!msgBox || !msgText) return;
            
            msgText.textContent = message;
            msgBox.className = `fixed top-10 left-1/2 -translate-x-1/2 px-6 py-3 rounded-lg shadow-xl z-50 transition-all duration-300 text-white ${isError ? 'bg-red-600' : 'bg-green-600'}`;
            
            setTimeout(() => { msgBox.classList.add('hidden'); }, 3000);
        }
    </script>
    {% block auth_scripts %}{% endblock %}
{% endblock %}